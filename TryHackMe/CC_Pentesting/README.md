# CC:Pen Testing
---
---
---
## Nmap
* -sV -> service version detection
* -sC -> run default script
* -sn -> ping scan
---

## Netcat
* -l -> listen
* -v -> verbose
* -p -> port
* -e -> specify program to execute after connecting
* -u -> connect to UDP ports
---

## gobuster
* dir -> directory bruteforce
* dns -> dns subdomain bruteforcing
* -U -> username for basic auth
* -P -> password for basic auth
* -c -> cookies for the request
* -s -> positive status codes
* -w -> wordlist
* -x -> file extensions
* -u -> target url
* -k -> skip ssl certificates
* -a -> user-agent
* -h -> http header
```bash
$ gobuster dir -u http://10.10.221.137/ -w /usr/share/dirb/wordlists/small.txt
$ gobuster dir -u http://10.10.221.137/ -w /usr/share/dirb/wordlists/small.txt -x xxa
```
---

## nikto
* -h -> which host to use
* -nossl -> disable ssl
* -ssl -> force ssl
* -id -> auth user + pass
* -plugins -> select plugin to use
* apacheuser -> plugin to enumerate users
* -update -> update plugin list
* -list-plugins -> list plugins
---

## metasploit
In msfconsole:
* search -> search modules
* use -> select module
* info -> display info about a specific module
* options -> list options
* advanced -> advanced options
* show -> show options for a category
* sessions -> list current sessions
* sessions -i -> choose session

Meterpreter is metasploit's own 'control center' where you can do various things
Regular shells can usually be upgraded to meterpreter shells by using the module *post/multi/manage/shell_to_meterpreter*

## meterpreter commands
* download -> download files from the machine
* upload -> upload files to the machine
* ps -> list running processes
* migrate -> change process
* ls
* execute -> execute command or file
* shell -> start interactive OS shell
* seach -> like linux find
* cat -> print file
* background -> put shell in background

## hashcat
## john the ripper

## sqlmap
* -u -> url to check
* -g -> google dork to use
* -p -> parameter to use
* ---dbms -> specify database 
* -D -> which db to enumerate
* -T -> which table to enumerate
* -C -> which column to enumerate
* --os-shell -> try to get an interactive shell
* --dump-all -> dumps all data from every table
* --dump -> dumps table entries


## samba

## smbmap
* -u -> username
* -p -> password
* -H -> host
* -x -> run command
* -s -> share to enumerate
* -d -> domain to enumerate
* --download [PATH] -> download a file
* --upload [PATH] -> uploads a file

## smbclient
* -w -> domain(workgroup) to use
* -I -> IP of host
* -c -> run command
* -U -> username
* -P -> password
* -N -> no passowrd
In the interactive prompt:
* get [FILE] -> download file
* put [FILE] -> upload a file

## Small ctf
* nmap found ports 22 and 80 open
* gobuster found the /secret directory
```bash
$ nmap -p 22,80 -sC -sV 10.10.86.188 | tee nmap_scan2
$ nmap -p- 10.10.86.188 | tee nmap_scan
$ gobuster dir -u http://10.10.86.188/  -w /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt | tee dir_scan
## ran dirbuster with extensions php, php3, php4,php5,phtml,txt
```
* found a /secret/secret.txt file containing '*nyan:046385855FC9580393853D8E81F240B66FE9A7B8*'
* hash-identifier tells us it is a possible sha1, which [crackstation.net](https://crackstation.net/) tells us is *nyan*
* once connected with ssh cat user.txt, and run:
```bash
$ sudo -l
```
* which tells us nyan can run *su* as root, gain root with:
```bash
$ sudo su
$ cat /root/root.txt
```
